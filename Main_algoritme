
import psycopg2

#connectie met de database maken
c = psycopg2.connect("dbname=postgres user=postgres password=Kenan123") #TODO: je eigen, hoppelijk betere wachtwoord invullen samen met de andere gegevens.
cur = c.cursor()


#zoekt producten met specifieke targetaudience, subcategory, type en subsubcategory, voer de gegevens in deze volgorde in.
def Filter(target, subcat, type, subsubcat):
    try:
        cur.execute('''select id from products where targetaudience = %s and subcategory = %s and type = %s 
        and subsubcategory = %s''',
        [target,subcat,type,subsubcat])
 
        #vergeef me
        global result
        result = cur.fetchall()
        print(result)
        print('done')
    
    except:
        print('iemand heeft de instructies niet gevolgt')
    
#1 id van een product invulen en daar de naam van krijgen.
def prod_id_to_name(product):
        cur.execute('''select name from products where id = %s ''',[product])
        naam = cur.fetchall()
        print(naam)
 
#
def prod_name_to_id(product_name):
        cur.execute('''select id from products where name = %s ''',[product_name])
        id = cur.fetchall()
        print(id)

#voorbeeld:
Filter('Vrouwen', 'Lichaamsverzorging','Spray', 'Deodorant')
prod_id_to_name('29782')
